<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Syx: syx/syx-scheduler.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_fc3e1133dafecdd000c1fda58b369b20.html">syx</a>
  </div>
</div>
<div class="contents">
<h1>syx-scheduler.c File Reference</h1><code>#include &quot;<a class="el" href="syx-object_8h-source.html">syx-object.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-types_8h-source.html">syx-types.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-enums_8h-source.html">syx-enums.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-scheduler_8h-source.html">syx-scheduler.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-utils_8h-source.html">syx-utils.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-error_8h-source.html">syx-error.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-interp_8h-source.html">syx-interp.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-memory_8h-source.html">syx-memory.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-init_8h-source.html">syx-init.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="syx-profile_8h-source.html">syx-profile.h</a>&quot;</code><br>

<p>
<a href="syx-scheduler_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#826bd9cb537fa7b575471e55d4a22096">syx_scheduler_init</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="syx-types_8h.html#c6dc09b276b99fa1956364359139daab">syx_bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#f057361452bd4dc5c068977fbeed3930">syx_scheduler_iterate</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#b2a6b8c50609209c4ce77e0ee93ad15c">syx_scheduler_run</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#55fca0fb039850c253fbb76132099c19">syx_scheduler_poll_register_source</a> (<a class="el" href="syx-scheduler_8h.html#6c2e31a7f026cdd3d5eb1fc0d263c63a">SyxSchedulerSourceFunc</a> callback, <a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a> semaphore)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#3f55059f958063f4332db465abe11958">syx_scheduler_poll_unregister_source</a> (<a class="el" href="syx-scheduler_8h.html#6c2e31a7f026cdd3d5eb1fc0d263c63a">SyxSchedulerSourceFunc</a> callback, <a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a> semaphore)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#4a871e11c8c343aee6d766dab4b59383">syx_scheduler_quit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="syx-types_8h.html#c6dc09b276b99fa1956364359139daab">syx_bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#a79a002ea5114a6fbdea9d617e6b75e5">syx_scheduler_add_process</a> (<a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a> process)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="syx-types_8h.html#c6dc09b276b99fa1956364359139daab">syx_bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#5eed9263555dd5245c7ab05cdf59d995">syx_scheduler_remove_process</a> (<a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a> process)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="syx-scheduler_8c.html#cd76972884d834c2095b727889851064">syx_processor</a></td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a79a002ea5114a6fbdea9d617e6b75e5"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_add_process" ref="a79a002ea5114a6fbdea9d617e6b75e5" args="(SyxOop process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="syx-types_8h.html#c6dc09b276b99fa1956364359139daab">syx_bool</a> syx_scheduler_add_process           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a>&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a Process to be scheduled. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>process</em>&nbsp;</td><td>a valid Process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if the given Process has been scheduled successfully, FALSE otherwise </dd></dl>

<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00209">209</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

<p>Referenced by <a class="el" href="syx-object_8c-source.html#l00234">syx_process_new()</a>.</p>

</div>
</div><p>
<a class="anchor" name="826bd9cb537fa7b575471e55d4a22096"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_init" ref="826bd9cb537fa7b575471e55d4a22096" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syx_scheduler_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the scheduler.<p>
If absent, create a ProcessorScheduler instance named Processor and insert it into the Smalltalk dictionary. 
<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00097">97</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

<p>Referenced by <a class="el" href="syx-init_8c-source.html#l00278">syx_fetch_basic()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f057361452bd4dc5c068977fbeed3930"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_iterate" ref="f057361452bd4dc5c068977fbeed3930" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="syx-types_8h.html#c6dc09b276b99fa1956364359139daab">syx_bool</a> syx_scheduler_iterate           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do a single iteration of the scheduler. Returns FALSE when no pending processes are left. 
<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00118">118</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="55fca0fb039850c253fbb76132099c19"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_poll_register_source" ref="55fca0fb039850c253fbb76132099c19" args="(SyxSchedulerSourceFunc callback, SyxOop semaphore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syx_scheduler_poll_register_source           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="syx-scheduler_8h.html#6c2e31a7f026cdd3d5eb1fc0d263c63a">SyxSchedulerSourceFunc</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a>&nbsp;</td>
          <td class="paramname"> <em>semaphore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The scheduler runs the callback to check whether the source is ready then signal the semaphore. To tell that the source is ready, return TRUE from the callback, otherwise FALSE.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>the callback to call for each scheduler iteration </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>semaphore</em>&nbsp;</td><td>the semaphore to signal when the source is ready </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00166">166</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f55059f958063f4332db465abe11958"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_poll_unregister_source" ref="3f55059f958063f4332db465abe11958" args="(SyxSchedulerSourceFunc callback, SyxOop semaphore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syx_scheduler_poll_unregister_source           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="syx-scheduler_8h.html#6c2e31a7f026cdd3d5eb1fc0d263c63a">SyxSchedulerSourceFunc</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a>&nbsp;</td>
          <td class="paramname"> <em>semaphore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove an idle source previously added with syx_scheduler_poll_register_source 
<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00179">179</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="4a871e11c8c343aee6d766dab4b59383"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_quit" ref="4a871e11c8c343aee6d766dab4b59383" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syx_scheduler_quit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop the scheduler 
<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00200">200</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

<p>Referenced by <a class="el" href="syx-init_8c-source.html#l00404">syx_quit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5eed9263555dd5245c7ab05cdf59d995"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_remove_process" ref="5eed9263555dd5245c7ab05cdf59d995" args="(SyxOop process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="syx-types_8h.html#c6dc09b276b99fa1956364359139daab">syx_bool</a> syx_scheduler_remove_process           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a>&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a Process from being scheduled. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>process</em>&nbsp;</td><td>a valid Process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if the given Process has been found and removed successfully, FALSE otherwise </dd></dl>

<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00229">229</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

<p>Referenced by <a class="el" href="syx-init_8c-source.html#l00318">syx_initialize_system()</a>, <a class="el" href="syx-interp_8c-source.html#l00334">syx_interp_leave_and_answer()</a>, and <a class="el" href="syx-interp_8c-source.html#l00390">syx_process_execute_blocking()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b2a6b8c50609209c4ce77e0ee93ad15c"></a><!-- doxytag: member="syx-scheduler.c::syx_scheduler_run" ref="b2a6b8c50609209c4ce77e0ee93ad15c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syx_scheduler_run           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run the scheduler in blocking mode. Exits once no Process is scheduled 
<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00132">132</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="cd76972884d834c2095b727889851064"></a><!-- doxytag: member="syx-scheduler.c::syx_processor" ref="cd76972884d834c2095b727889851064" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="syx-types_8h.html#1121caba2d40b2ce090b640762744ccd">SyxOop</a> <a class="el" href="syx-scheduler_8h.html#7a21f5718c04cc99b3c4aaf22bdd6d7b">syx_processor</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="syx-scheduler_8c-source.html#l00041">41</a> of file <a class="el" href="syx-scheduler_8c-source.html">syx-scheduler.c</a>.</p>

<p>Referenced by <a class="el" href="syx-scheduler_8c-source.html#l00097">syx_scheduler_init()</a>.</p>

</div>
</div><p>
</div>
<html>
<body>
<hr>
<i>Documented by <a href="http://lethalman.blogspot.com/">Luca Bruno</a> and <a href="http://scacco-matto.blogspot.com/">ScaccoMatto</a></i>
</body>
</html>
