<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.5.5">
  <compounddef id="syx-scheduler_8c" kind="file">
    <compoundname>syx-scheduler.c</compoundname>
    <includes refid="syx-object_8h" local="yes">syx-object.h</includes>
    <includes refid="syx-types_8h" local="yes">syx-types.h</includes>
    <includes refid="syx-enums_8h" local="yes">syx-enums.h</includes>
    <includes refid="syx-scheduler_8h" local="yes">syx-scheduler.h</includes>
    <includes refid="syx-utils_8h" local="yes">syx-utils.h</includes>
    <includes refid="syx-error_8h" local="yes">syx-error.h</includes>
    <includes refid="syx-interp_8h" local="yes">syx-interp.h</includes>
    <includes refid="syx-memory_8h" local="yes">syx-memory.h</includes>
    <includes refid="syx-init_8h" local="yes">syx-init.h</includes>
    <includes refid="syx-profile_8h" local="yes">syx-profile.h</includes>
    <incdepgraph>
      <node id="720">
        <label>syx-types.h</label>
        <link refid="syx-types_8h"/>
        <childnode refid="717" relation="include">
        </childnode>
        <childnode refid="721" relation="include">
        </childnode>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="722" relation="include">
        </childnode>
        <childnode refid="723" relation="include">
        </childnode>
        <childnode refid="724" relation="include">
        </childnode>
        <childnode refid="725" relation="include">
        </childnode>
        <childnode refid="726" relation="include">
        </childnode>
        <childnode refid="727" relation="include">
        </childnode>
      </node>
      <node id="719">
        <label>stdarg.h</label>
      </node>
      <node id="728">
        <label>syx-lexer.h</label>
        <link refid="syx-lexer_8h"/>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="721" relation="include">
        </childnode>
        <childnode refid="729" relation="include">
        </childnode>
      </node>
      <node id="713">
        <label>syx/syx-scheduler.c</label>
        <link refid="syx-scheduler.c"/>
        <childnode refid="714" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="721" relation="include">
        </childnode>
        <childnode refid="732" relation="include">
        </childnode>
        <childnode refid="715" relation="include">
        </childnode>
        <childnode refid="730" relation="include">
        </childnode>
        <childnode refid="733" relation="include">
        </childnode>
        <childnode refid="734" relation="include">
        </childnode>
        <childnode refid="731" relation="include">
        </childnode>
        <childnode refid="735" relation="include">
        </childnode>
      </node>
      <node id="732">
        <label>syx-scheduler.h</label>
        <link refid="syx-scheduler_8h"/>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="714" relation="include">
        </childnode>
        <childnode refid="725" relation="include">
        </childnode>
      </node>
      <node id="723">
        <label>stdint.h</label>
      </node>
      <node id="726">
        <label>stdlib.h</label>
      </node>
      <node id="735">
        <label>syx-profile.h</label>
        <link refid="syx-profile_8h"/>
        <childnode refid="716" relation="include">
        </childnode>
      </node>
      <node id="730">
        <label>syx-error.h</label>
        <link refid="syx-error_8h"/>
        <childnode refid="725" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="717" relation="include">
        </childnode>
        <childnode refid="715" relation="include">
        </childnode>
        <childnode refid="719" relation="include">
        </childnode>
      </node>
      <node id="722">
        <label>limits.h</label>
      </node>
      <node id="733">
        <label>syx-interp.h</label>
        <link refid="syx-interp_8h"/>
        <childnode refid="714" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="732" relation="include">
        </childnode>
        <childnode refid="731" relation="include">
        </childnode>
      </node>
      <node id="714">
        <label>syx-object.h</label>
        <link refid="syx-object_8h"/>
        <childnode refid="715" relation="include">
        </childnode>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="721" relation="include">
        </childnode>
        <childnode refid="730" relation="include">
        </childnode>
        <childnode refid="731" relation="include">
        </childnode>
        <childnode refid="726" relation="include">
        </childnode>
        <childnode refid="727" relation="include">
        </childnode>
        <childnode refid="729" relation="include">
        </childnode>
      </node>
      <node id="724">
        <label>wchar.h</label>
      </node>
      <node id="727">
        <label>string.h</label>
      </node>
      <node id="715">
        <label>syx-utils.h</label>
        <link refid="syx-utils_8h"/>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="719" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="728" relation="include">
        </childnode>
      </node>
      <node id="734">
        <label>syx-memory.h</label>
        <link refid="syx-memory_8h"/>
        <childnode refid="717" relation="include">
        </childnode>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="714" relation="include">
        </childnode>
        <childnode refid="731" relation="include">
        </childnode>
      </node>
      <node id="718">
        <label>byteswap.h</label>
      </node>
      <node id="731">
        <label>syx-init.h</label>
        <link refid="syx-init_8h"/>
        <childnode refid="716" relation="include">
        </childnode>
        <childnode refid="720" relation="include">
        </childnode>
        <childnode refid="714" relation="include">
        </childnode>
      </node>
      <node id="717">
        <label>syx-config.h</label>
      </node>
      <node id="729">
        <label>gmp.h</label>
      </node>
      <node id="721">
        <label>syx-enums.h</label>
        <link refid="syx-enums_8h"/>
        <childnode refid="716" relation="include">
        </childnode>
      </node>
      <node id="716">
        <label>syx-platform.h</label>
        <link refid="syx-platform_8h"/>
        <childnode refid="717" relation="include">
        </childnode>
        <childnode refid="718" relation="include">
        </childnode>
      </node>
      <node id="725">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="syx-scheduler_8c_1cd76972884d834c2095b727889851064" prot="public" static="no" mutable="no">
        <type><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref></type>
        <definition>SyxOop syx_processor</definition>
        <argsstring></argsstring>
        <name>syx_processor</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="41" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="41" bodyend="-1"/>
        <referencedby refid="syx-scheduler_8h_1dabe27943d73201de5aecf72519a687a" compoundref="syx-scheduler_8c" startline="97" endline="111">syx_scheduler_init</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="syx-scheduler_8c_1826bd9cb537fa7b575471e55d4a22096" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_scheduler_init</definition>
        <argsstring>(void)</argsstring>
        <name>syx_scheduler_init</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialize the scheduler.</para><para>If absent, create a ProcessorScheduler instance named Processor and insert it into the Smalltalk dictionary. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="98" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="97" bodyend="111"/>
        <referencedby refid="syx-init_8h_1c06c3bb03991f52f068cee7e52ff868e" compoundref="syx-init_8c" startline="278" endline="313">syx_fetch_basic</referencedby>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_1f057361452bd4dc5c068977fbeed3930" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_scheduler_iterate</definition>
        <argsstring>(void)</argsstring>
        <name>syx_scheduler_iterate</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Do a single iteration of the scheduler. Returns FALSE when no pending processes are left. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="119" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="118" bodyend="128"/>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_1b2a6b8c50609209c4ce77e0ee93ad15c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_scheduler_run</definition>
        <argsstring>(void)</argsstring>
        <name>syx_scheduler_run</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Run the scheduler in blocking mode. Exits once no Process is scheduled </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="133" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="132" bodyend="156"/>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_155fca0fb039850c253fbb76132099c19" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_scheduler_poll_register_source</definition>
        <argsstring>(SyxSchedulerSourceFunc callback, SyxOop semaphore)</argsstring>
        <name>syx_scheduler_poll_register_source</name>
        <param>
          <type><ref refid="syx-scheduler_8h_16c2e31a7f026cdd3d5eb1fc0d263c63a" kindref="member">SyxSchedulerSourceFunc</ref></type>
          <declname>callback</declname>
        </param>
        <param>
          <type><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref></type>
          <declname>semaphore</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The scheduler runs the callback to check whether the source is ready then signal the semaphore. To tell that the source is ready, return TRUE from the callback, otherwise FALSE.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>callback</parametername>
</parameternamelist>
<parameterdescription>
<para>the callback to call for each scheduler iteration </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>semaphore</parametername>
</parameternamelist>
<parameterdescription>
<para>the semaphore to signal when the source is ready </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="167" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="166" bodyend="173"/>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_13f55059f958063f4332db465abe11958" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_scheduler_poll_unregister_source</definition>
        <argsstring>(SyxSchedulerSourceFunc callback, SyxOop semaphore)</argsstring>
        <name>syx_scheduler_poll_unregister_source</name>
        <param>
          <type><ref refid="syx-scheduler_8h_16c2e31a7f026cdd3d5eb1fc0d263c63a" kindref="member">SyxSchedulerSourceFunc</ref></type>
          <declname>callback</declname>
        </param>
        <param>
          <type><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref></type>
          <declname>semaphore</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Remove an idle source previously added with syx_scheduler_poll_register_source </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="180" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="179" bodyend="196"/>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_14a871e11c8c343aee6d766dab4b59383" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_scheduler_quit</definition>
        <argsstring>(void)</argsstring>
        <name>syx_scheduler_quit</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Stop the scheduler </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="201" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="200" bodyend="203"/>
        <referencedby refid="syx-init_8h_1ce263c15141e6de68d951cfc57d672cb" compoundref="syx-init_8c" startline="404" endline="416">syx_quit</referencedby>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_1a79a002ea5114a6fbdea9d617e6b75e5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_scheduler_add_process</definition>
        <argsstring>(SyxOop process)</argsstring>
        <name>syx_scheduler_add_process</name>
        <param>
          <type><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref></type>
          <declname>process</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add a Process to be scheduled. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>process</parametername>
</parameternamelist>
<parameterdescription>
<para>a valid Process </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>TRUE if the given Process has been scheduled successfully, FALSE otherwise </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="210" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="209" bodyend="223"/>
        <referencedby refid="syx-object_8h_1cc28dff1a70eeea85e52a5501eda6b53" compoundref="syx-object_8c" startline="234" endline="251">syx_process_new</referencedby>
      </memberdef>
      <memberdef kind="function" id="syx-scheduler_8c_15eed9263555dd5245c7ab05cdf59d995" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_scheduler_remove_process</definition>
        <argsstring>(SyxOop process)</argsstring>
        <name>syx_scheduler_remove_process</name>
        <param>
          <type><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref></type>
          <declname>process</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Remove a Process from being scheduled. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>process</parametername>
</parameternamelist>
<parameterdescription>
<para>a valid Process </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>TRUE if the given Process has been found and removed successfully, FALSE otherwise </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-scheduler.c" line="230" bodyfile="/media/common/projects/syx/syx/syx-scheduler.c" bodystart="229" bodyend="265"/>
        <referencedby refid="syx-init_8h_105223a080e6d39766c81442245d6bf37" compoundref="syx-init_8c" startline="318" endline="339">syx_initialize_system</referencedby>
        <referencedby refid="syx-interp_8h_1f677bca3ba7ff8315ce0b1406b7a97b5" compoundref="syx-interp_8c" startline="334" endline="359">syx_interp_leave_and_answer</referencedby>
        <referencedby refid="syx-interp_8h_11260b0caa0982d0e6d2d0a858bea5867" compoundref="syx-interp_8c" startline="390" endline="425">syx_process_execute_blocking</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/></highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/><sp/><sp/>Copyright<sp/>(c)<sp/>2007-2008<sp/>Luca<sp/>Bruno</highlight></codeline>
<codeline lineno="3"><highlight class="comment"></highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/><sp/><sp/>This<sp/>file<sp/>is<sp/>part<sp/>of<sp/>Smalltalk<sp/>YX.</highlight></codeline>
<codeline lineno="5"><highlight class="comment"></highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/><sp/><sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/><sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/><sp/><sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/><sp/><sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/><sp/><sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/><sp/><sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/><sp/><sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/><sp/><sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/><sp/><sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/><sp/><sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,<sp/><sp/></highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/><sp/><sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/><sp/><sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/><sp/><sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/><sp/><sp/>FROM,<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/><sp/><sp/>DEALINGS<sp/>IN<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="23"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-object_8h" kindref="compound">syx-object.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-types_8h" kindref="compound">syx-types.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-enums_8h" kindref="compound">syx-enums.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-scheduler_8h" kindref="compound">syx-scheduler.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-utils_8h" kindref="compound">syx-utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-error_8h" kindref="compound">syx-error.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-interp_8h" kindref="compound">syx-interp.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-memory_8h" kindref="compound">syx-memory.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-init_8h" kindref="compound">syx-init.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-profile_8h" kindref="compound">syx-profile.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>SYX_DEBUG_FULL</highlight></codeline>
<codeline lineno="38"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>SYX_DEBUG_PROCESS_SWITCH</highlight></codeline>
<codeline lineno="39"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="40"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="syx-scheduler_8h_17a21f5718c04cc99b3c4aaf22bdd6d7b" refkind="member"><highlight class="normal"><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/><ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>*_syx_processor_active_process;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>*_syx_processor_byteslice;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><ref refid="struct_syx_scheduler_poll" kindref="compound">SyxSchedulerPoll</ref><sp/>*_syx_scheduler_poll_sources<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>These<sp/>are<sp/>implemented<sp/>in<sp/>scheduler-posix<sp/>or<sp/>scheduler-win<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>_syx_scheduler_init_platform<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>_syx_scheduler_poll_wait_platform<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>_syx_scheduler_quit_platform<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal">_syx_scheduler_poll_wait<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="54"><highlight class="normal">{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><ref refid="struct_syx_scheduler_poll" kindref="compound">SyxSchedulerPoll</ref><sp/>*source<sp/>=<sp/>_syx_scheduler_poll_sources;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(source=_syx_scheduler_poll_sources;<sp/>source;)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-scheduler_8h_16c2e31a7f026cdd3d5eb1fc0d263c63a" kindref="member">SyxSchedulerSourceFunc</ref><sp/>func<sp/>=<sp/>(<ref refid="syx-scheduler_8h_16c2e31a7f026cdd3d5eb1fc0d263c63a" kindref="member">SyxSchedulerSourceFunc</ref>)source-&gt;<ref refid="struct_syx_scheduler_poll_16d209958f2d43ab3f79dc8959c220d7b" kindref="member">fd</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Take<sp/>next<sp/>source<sp/>here<sp/>for<sp/>possible<sp/>re-entrancy<sp/>troubles<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>source=source-&gt;<ref refid="struct_syx_scheduler_poll_1805f9e5a3c5ceefc63f8d054129deb55" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(func<sp/>())</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8c_1eb6e7d880d0aa1250eb4ad3f0b55cb11" kindref="member">syx_semaphore_signal</ref><sp/>(source-&gt;<ref refid="struct_syx_scheduler_poll_129351d80c985a867917f0d81ec6a790f" kindref="member">semaphore</ref>);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/>_syx_scheduler_poll_wait_platform<sp/>();</highlight></codeline>
<codeline lineno="66"><highlight class="normal">}</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/></highlight></codeline>
<codeline lineno="69"><highlight class="normal">_syx_scheduler_find_next_process<sp/>()</highlight></codeline>
<codeline lineno="70"><highlight class="normal">{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>process;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>processes<sp/>have<sp/>been<sp/>scheduled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>))</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(process=<ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>);<sp/>;<sp/>process<sp/>=<sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref><sp/>(process))</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>loop<sp/>won&apos;t<sp/>break<sp/>until<sp/>a<sp/>resumed<sp/>process<sp/>is<sp/>found,<sp/>so<sp/>we<sp/>call<sp/>the<sp/>poll<sp/>from<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_syx_scheduler_poll_wait<sp/>();</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>An<sp/>external<sp/>source<sp/>could<sp/>have<sp/>nullified<sp/>the<sp/>activeProcess<sp/>in<sp/>the<sp/>meanwhile<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>))</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1bc047647f8b39be70f2e2a2e205a9923" kindref="member">SYX_IS_FALSE</ref><sp/>(<ref refid="syx-object_8h_168958798ba77455939de869231f6eee1" kindref="member">SYX_PROCESS_SUSPENDED</ref><sp/>(process)))</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>process;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal">}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97" refid="syx-scheduler_8h_1dabe27943d73201de5aecf72519a687a" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_1826bd9cb537fa7b575471e55d4a22096" kindref="member">syx_scheduler_init</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="98"><highlight class="normal">{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref><sp/>=<sp/><ref refid="syx-init_8h_110821da1be539c181bf05ea3089a62b5" kindref="member">syx_globals_at_if_absent</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Processor&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(<ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref>))</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref><sp/>=<sp/><ref refid="syx-object_8h_1a3c2d59b7296539517361dea284a0db7" kindref="member">syx_object_new</ref><sp/>(<ref refid="syx-object_8c_1cc2d7608228c4fd75d822841f0f32125" kindref="member">syx_processor_scheduler_class</ref>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_1f404b8c366724f2aee0d80cc416f4a61" kindref="member">SYX_PROCESSOR_SCHEDULER_BYTESLICE</ref>(<ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref>)<sp/>=<sp/><ref refid="syx-types_8h_1a374195520da5e9f09f3ba4cfacf66fc" kindref="member">syx_small_integer_new</ref><sp/>(100);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-init_8h_1f23cd621d758fbfffe13f58928e4b068" kindref="member">syx_globals_at_put</ref><sp/>(<ref refid="syx-object_8c_16ef910113cd4a2eea7885781a54a2bc7" kindref="member">syx_symbol_new</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Processor&quot;</highlight><highlight class="normal">),<sp/><ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_syx_scheduler_init_platform<sp/>();</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/>_syx_processor_active_process<sp/>=<sp/>&amp;<ref refid="syx-object_8h_1e7a5e7b65675b5e2c49e4ea412119615" kindref="member">SYX_PROCESSOR_SCHEDULER_ACTIVE_PROCESS</ref>(<ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref>);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/>_syx_processor_byteslice<sp/>=<sp/>&amp;<ref refid="syx-object_8h_1f404b8c366724f2aee0d80cc416f4a61" kindref="member">SYX_PROCESSOR_SCHEDULER_BYTESLICE</ref>(<ref refid="syx-scheduler_8c_1cd76972884d834c2095b727889851064" kindref="member">syx_processor</ref>);</highlight></codeline>
<codeline lineno="111"><highlight class="normal">}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></highlight></codeline>
<codeline lineno="118" refid="syx-scheduler_8h_117fade7b245e355201d773d0ba2286e0" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_1f057361452bd4dc5c068977fbeed3930" kindref="member">syx_scheduler_iterate</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="119"><highlight class="normal">{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>proc;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/>proc<sp/>=<sp/>_syx_scheduler_find_next_process<sp/>();</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(proc))</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref><sp/>=<sp/>proc;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_186764c60b013f2d11406a06ef5703735" kindref="member">syx_process_execute_scheduled</ref><sp/>(proc);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="128"><highlight class="normal">}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="syx-scheduler_8h_125f4d9193e601faf10f5937fb7c6b32e" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_1b2a6b8c50609209c4ce77e0ee93ad15c" kindref="member">syx_scheduler_run</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref><sp/>running<sp/>=<sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><ref refid="syx-profile_8h_13b9369ab3f0b8d0366b7f97b9b2e9913" kindref="member">SYX_START_PROFILE</ref>;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(running)</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/>running<sp/>=<sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref><sp/>=<sp/>_syx_scheduler_find_next_process<sp/>()))</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>SYX_DEBUG_PROCESS_SWITCH</highlight></codeline>
<codeline lineno="147"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-error_8h_1b1279ef115dd518ef5b63b51ae495fa5" kindref="member">syx_debug</ref><sp/>(</highlight><highlight class="stringliteral">&quot;SCHEDULER<sp/>-<sp/>Switch<sp/>process<sp/>with<sp/>%p\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8h_1cfb2a79cbeaf42326b56948d009d6719" kindref="member">SYX_OBJECT</ref>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>));</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="149"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-interp_8c_186764c60b013f2d11406a06ef5703735" kindref="member">syx_process_execute_scheduled</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/>running<sp/>=<sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><ref refid="syx-profile_8h_16c83a6245e6bb84f65dc1d0471656ccf" kindref="member">SYX_END_PROFILE</ref>(scheduler);</highlight></codeline>
<codeline lineno="156"><highlight class="normal">}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="syx-scheduler_8h_109ca1323cd03da2a2b4ad2223d940c9e" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_155fca0fb039850c253fbb76132099c19" kindref="member">syx_scheduler_poll_register_source</ref><sp/>(<ref refid="syx-scheduler_8h_16c2e31a7f026cdd3d5eb1fc0d263c63a" kindref="member">SyxSchedulerSourceFunc</ref><sp/>callback,<sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>semaphore)</highlight></codeline>
<codeline lineno="167"><highlight class="normal">{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><ref refid="struct_syx_scheduler_poll" kindref="compound">SyxSchedulerPoll</ref><sp/>*s<sp/>=<sp/>(<ref refid="struct_syx_scheduler_poll" kindref="compound">SyxSchedulerPoll</ref><sp/>*)<sp/><ref refid="syx-types_8h_17446426502808204156e54c87ac180bf" kindref="member">syx_malloc</ref><sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal"><sp/>(<ref refid="struct_syx_scheduler_poll" kindref="compound">SyxSchedulerPoll</ref>));</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/>s-&gt;<ref refid="struct_syx_scheduler_poll_16d209958f2d43ab3f79dc8959c220d7b" kindref="member">fd</ref><sp/>=<sp/>(<ref refid="syx-types_8h_1488ad2504ade19c761a3e2a1726b4781" kindref="member">syx_nint</ref>)<sp/>callback;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>s-&gt;<ref refid="struct_syx_scheduler_poll_129351d80c985a867917f0d81ec6a790f" kindref="member">semaphore</ref><sp/>=<sp/>semaphore;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>s-&gt;<ref refid="struct_syx_scheduler_poll_1805f9e5a3c5ceefc63f8d054129deb55" kindref="member">next</ref><sp/>=<sp/>_syx_scheduler_poll_sources;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>_syx_scheduler_poll_sources<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="173"><highlight class="normal">}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179" refid="syx-scheduler_8h_11034940b95289f30cbbadf9737f63f3c" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_13f55059f958063f4332db465abe11958" kindref="member">syx_scheduler_poll_unregister_source</ref><sp/>(<ref refid="syx-scheduler_8h_16c2e31a7f026cdd3d5eb1fc0d263c63a" kindref="member">SyxSchedulerSourceFunc</ref><sp/>callback,<sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>semaphore)</highlight></codeline>
<codeline lineno="180"><highlight class="normal">{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><ref refid="struct_syx_scheduler_poll" kindref="compound">SyxSchedulerPoll</ref><sp/>*s,<sp/>*pre;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(s=_syx_scheduler_poll_sources,<sp/>pre=NULL;<sp/>s;)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(s-&gt;<ref refid="struct_syx_scheduler_poll_16d209958f2d43ab3f79dc8959c220d7b" kindref="member">fd</ref><sp/>==<sp/>(<ref refid="syx-types_8h_1488ad2504ade19c761a3e2a1726b4781" kindref="member">syx_nint</ref>)callback<sp/>&amp;&amp;<sp/>s-&gt;<ref refid="struct_syx_scheduler_poll_129351d80c985a867917f0d81ec6a790f" kindref="member">semaphore</ref><sp/>==<sp/>semaphore)</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pre)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_syx_scheduler_poll_sources<sp/>=<sp/>s-&gt;<ref refid="struct_syx_scheduler_poll_1805f9e5a3c5ceefc63f8d054129deb55" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pre-&gt;<ref refid="struct_syx_scheduler_poll_1805f9e5a3c5ceefc63f8d054129deb55" kindref="member">next</ref><sp/>=<sp/>s-&gt;<ref refid="struct_syx_scheduler_poll_1805f9e5a3c5ceefc63f8d054129deb55" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Take<sp/>next<sp/>source<sp/>here<sp/>for<sp/>possible<sp/>re-entrancy<sp/>troubles<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s=s-&gt;<ref refid="struct_syx_scheduler_poll_1805f9e5a3c5ceefc63f8d054129deb55" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(s);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal">}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200" refid="syx-scheduler_8h_14bc3cad9e3d276d535f8d53e33c59501" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_14a871e11c8c343aee6d766dab4b59383" kindref="member">syx_scheduler_quit</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="201"><highlight class="normal">{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/>_syx_scheduler_quit_platform<sp/>();</highlight></codeline>
<codeline lineno="203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></highlight></codeline>
<codeline lineno="209" refid="syx-scheduler_8h_12fb86e1bdec4b10a406b9da39d671a2d" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_1a79a002ea5114a6fbdea9d617e6b75e5" kindref="member">syx_scheduler_add_process</ref><sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>process)</highlight></codeline>
<codeline lineno="210"><highlight class="normal">{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1d906bc6552333687f0f006132d38c07b" kindref="member">SYX_IS_TRUE</ref><sp/>(<ref refid="syx-object_8h_199cbfe2ae15b516f6d3a60c06a8a3915" kindref="member">SYX_PROCESS_SCHEDULED</ref><sp/>(process)))</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>))</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref>(process)<sp/>=<sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref><sp/>=<sp/>process;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref>(process)<sp/>=<sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>)<sp/>=<sp/>process;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_199cbfe2ae15b516f6d3a60c06a8a3915" kindref="member">SYX_PROCESS_SCHEDULED</ref>(process)<sp/>=<sp/><ref refid="syx-object_8c_1420b624002efae10b26b6ae50e4a2676" kindref="member">syx_true</ref>;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal">}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></highlight></codeline>
<codeline lineno="229" refid="syx-scheduler_8h_1382b95da8a6469cf53510b05ae655f5e" refkind="member"><highlight class="normal"><ref refid="syx-scheduler_8c_15eed9263555dd5245c7ab05cdf59d995" kindref="member">syx_scheduler_remove_process</ref><sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>process)</highlight></codeline>
<codeline lineno="230"><highlight class="normal">{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>cur_process,<sp/>prev_process;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>))</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-types_8h_111cbe8792a6a199aa5562be393851ab5" kindref="member">SYX_OOP_EQ</ref><sp/>(process,<sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>)<sp/>&amp;&amp;<sp/><ref refid="syx-types_8h_111cbe8792a6a199aa5562be393851ab5" kindref="member">SYX_OOP_EQ</ref><sp/>(<ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref><sp/>(process),<sp/>process))</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>active<sp/>process<sp/>was<sp/>the<sp/>only<sp/>being<sp/>scheduled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_199cbfe2ae15b516f6d3a60c06a8a3915" kindref="member">SYX_PROCESS_SCHEDULED</ref>(process)<sp/>=<sp/><ref refid="syx-object_8c_1f40bef822ab93070372bb305d0443bd5" kindref="member">syx_false</ref>;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref><sp/>=<sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>prev_process<sp/>=<sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cur_process<sp/>=<sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref><sp/>(prev_process);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-types_8h_111cbe8792a6a199aa5562be393851ab5" kindref="member">SYX_OOP_EQ</ref><sp/>(cur_process,<sp/>process))</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref>(prev_process)<sp/>=<sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref><sp/>(process);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_199cbfe2ae15b516f6d3a60c06a8a3915" kindref="member">SYX_PROCESS_SCHEDULED</ref>(process)<sp/>=<sp/><ref refid="syx-object_8c_1f40bef822ab93070372bb305d0443bd5" kindref="member">syx_false</ref>;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>can&apos;t<sp/>remove<sp/>the<sp/>activeProcess<sp/>without<sp/>replacing<sp/>it<sp/>with<sp/>another<sp/>one.</highlight></codeline>
<codeline lineno="254"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>We<sp/>chose<sp/>the<sp/>previous<sp/>so<sp/>that<sp/>the<sp/>next<sp/>one<sp/>is<sp/>executed.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="syx-types_8h_111cbe8792a6a199aa5562be393851ab5" kindref="member">SYX_OOP_EQ</ref><sp/>(process,<sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>))</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref><sp/>=<sp/>prev_process;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prev_process=cur_process;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cur_process<sp/>=<sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref>(prev_process);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="syx-types_8h_177fa18bf2a99d480c1947546d2f4d3da" kindref="member">SYX_OOP_NE</ref><sp/>(cur_process,<sp/><ref refid="syx-object_8h_10a046ecb9b0607671ce20996d5e986fe" kindref="member">SYX_PROCESS_NEXT</ref><sp/>(<ref refid="syx-scheduler_8h_13785c5106dbc4cdcb992b6d17024da72" kindref="member">syx_processor_active_process</ref>)));</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal">}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/media/common/projects/syx/syx/syx-scheduler.c"/>
  </compounddef>
</doxygen>
