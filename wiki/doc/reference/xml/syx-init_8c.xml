<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.5.5">
  <compounddef id="syx-init_8c" kind="file">
    <compoundname>syx-init.c</compoundname>
    <includes refid="syx-memory_8h" local="yes">syx-memory.h</includes>
    <includes refid="syx-types_8h" local="yes">syx-types.h</includes>
    <includes refid="syx-error_8h" local="yes">syx-error.h</includes>
    <includes refid="syx-plugins_8h" local="yes">syx-plugins.h</includes>
    <includes refid="syx-init_8h" local="yes">syx-init.h</includes>
    <includes refid="syx-signal_8h" local="yes">syx-signal.h</includes>
    <includes refid="syx-utils_8h" local="yes">syx-utils.h</includes>
    <includes refid="syx-scheduler_8h" local="yes">syx-scheduler.h</includes>
    <includes refid="syx-object_8h" local="yes">syx-object.h</includes>
    <includes refid="syx-interp_8h" local="yes">syx-interp.h</includes>
    <includes refid="syx-profile_8h" local="yes">syx-profile.h</includes>
    <includes local="no">unistd.h</includes>
    <includes local="no">assert.h</includes>
    <includes local="no">stdio.h</includes>
    <incdepgraph>
      <node id="155">
        <label>syx-types.h</label>
        <link refid="syx-types_8h"/>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="157" relation="include">
        </childnode>
        <childnode refid="158" relation="include">
        </childnode>
        <childnode refid="159" relation="include">
        </childnode>
        <childnode refid="160" relation="include">
        </childnode>
        <childnode refid="161" relation="include">
        </childnode>
        <childnode refid="162" relation="include">
        </childnode>
      </node>
      <node id="154">
        <label>stdarg.h</label>
      </node>
      <node id="170">
        <label>syx-signal.h</label>
        <link refid="syx-signal_8h"/>
      </node>
      <node id="163">
        <label>syx-lexer.h</label>
        <link refid="syx-lexer_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="164" relation="include">
        </childnode>
      </node>
      <node id="169">
        <label>syx-scheduler.h</label>
        <link refid="syx-scheduler_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="160" relation="include">
        </childnode>
      </node>
      <node id="173">
        <label>assert.h</label>
      </node>
      <node id="158">
        <label>stdint.h</label>
      </node>
      <node id="161">
        <label>stdlib.h</label>
      </node>
      <node id="171">
        <label>syx-profile.h</label>
        <link refid="syx-profile_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
      </node>
      <node id="165">
        <label>syx-error.h</label>
        <link refid="syx-error_8h"/>
        <childnode refid="160" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="153" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
      </node>
      <node id="157">
        <label>limits.h</label>
      </node>
      <node id="168">
        <label>syx-interp.h</label>
        <link refid="syx-interp_8h"/>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="166" relation="include">
        </childnode>
      </node>
      <node id="152">
        <label>syx-object.h</label>
        <link refid="syx-object_8h"/>
        <childnode refid="153" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="156" relation="include">
        </childnode>
        <childnode refid="165" relation="include">
        </childnode>
        <childnode refid="166" relation="include">
        </childnode>
        <childnode refid="161" relation="include">
        </childnode>
        <childnode refid="162" relation="include">
        </childnode>
        <childnode refid="164" relation="include">
        </childnode>
      </node>
      <node id="159">
        <label>wchar.h</label>
      </node>
      <node id="162">
        <label>string.h</label>
      </node>
      <node id="153">
        <label>syx-utils.h</label>
        <link refid="syx-utils_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="154" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="163" relation="include">
        </childnode>
      </node>
      <node id="148">
        <label>syx-memory.h</label>
        <link refid="syx-memory_8h"/>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="166" relation="include">
        </childnode>
      </node>
      <node id="172">
        <label>unistd.h</label>
      </node>
      <node id="151">
        <label>byteswap.h</label>
      </node>
      <node id="147">
        <label>syx/syx-init.c</label>
        <link refid="syx-init.c"/>
        <childnode refid="148" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="165" relation="include">
        </childnode>
        <childnode refid="167" relation="include">
        </childnode>
        <childnode refid="166" relation="include">
        </childnode>
        <childnode refid="170" relation="include">
        </childnode>
        <childnode refid="153" relation="include">
        </childnode>
        <childnode refid="169" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
        <childnode refid="168" relation="include">
        </childnode>
        <childnode refid="171" relation="include">
        </childnode>
        <childnode refid="172" relation="include">
        </childnode>
        <childnode refid="173" relation="include">
        </childnode>
        <childnode refid="160" relation="include">
        </childnode>
      </node>
      <node id="166">
        <label>syx-init.h</label>
        <link refid="syx-init_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="155" relation="include">
        </childnode>
        <childnode refid="152" relation="include">
        </childnode>
      </node>
      <node id="149">
        <label>syx-config.h</label>
      </node>
      <node id="164">
        <label>gmp.h</label>
      </node>
      <node id="156">
        <label>syx-enums.h</label>
        <link refid="syx-enums_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
      </node>
      <node id="150">
        <label>syx-platform.h</label>
        <link refid="syx-platform_8h"/>
        <childnode refid="149" relation="include">
        </childnode>
        <childnode refid="151" relation="include">
        </childnode>
      </node>
      <node id="167">
        <label>syx-plugins.h</label>
        <link refid="syx-plugins_8h"/>
        <childnode refid="150" relation="include">
        </childnode>
        <childnode refid="168" relation="include">
        </childnode>
      </node>
      <node id="160">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="syx-init_8c_1a635a8b40fe35e17b7d2441eb9c11623" prot="public" static="no" mutable="no">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_system_initialized</definition>
        <argsstring></argsstring>
        <name>syx_system_initialized</name>
        <initializer> FALSE</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="59" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="59" bodyend="-1"/>
        <referencedby refid="syx-init_8h_105223a080e6d39766c81442245d6bf37" compoundref="syx-init_8c" startline="318" endline="339">syx_initialize_system</referencedby>
        <referencedby refid="syx-object_8h_100a861ab5f7d7224796beb8f9bf42296" compoundref="syx-object_8c" startline="95" endline="108">syx_object_initialize</referencedby>
        <referencedby refid="syx-error_8h_19e42294f55fa2b19c5bd23202111d7e2" compoundref="syx-error_8c" startline="125" endline="159">syx_signal</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="syx-init_8c_10a366be8ef1ce96df07d6084ccfaa249" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref></type>
        <definition>syx_string syx_find_file</definition>
        <argsstring>(syx_symbol domain, syx_symbol package, syx_symbol filename)</argsstring>
        <name>syx_find_file</name>
        <param>
          <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
          <declname>domain</declname>
        </param>
        <param>
          <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
          <declname>package</declname>
        </param>
        <param>
          <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
          <declname>filename</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Creates a file path inside the Syx environment</para><para>For example if you want a Smalltalk file of a package, specify the domain &quot;st&quot;, the package name and the file name. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="78" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="77" bodyend="96"/>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_1efeb166ace07f37fd380e8e290b18368" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_build_basic</definition>
        <argsstring>(void)</argsstring>
        <name>syx_build_basic</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Builds a basic running image from scratch.</para><para>This functions first reinitialize the memory with the size defined in SYX_INIT_MEMORY_SIZE. After, creates the 3 common constants syx_nil, syx_true and syx_false. Then creates all the classes needed by the VM, the Smalltalk dictionary and a dictionary containing all the symbols. Sets up the basic object hierarchy and insert each class into Smalltalk. Ends up this process by fileing in the basic declarations from initialDecl.st and the other *.st files, and calls syx_fetch_basic to fetch all classes in the VM. Finally, prepares the environment by running a blocking Process that calls Smalltalk&gt;&gt;initializeFirstSystem and initialize everything else from within Smalltalk itself. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="184" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="183" bodyend="267"/>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_17b86f133ac732b3916ff9b295a719b9c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_fetch_basic</definition>
        <argsstring>(void)</argsstring>
        <name>syx_fetch_basic</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="279" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="278" bodyend="313"/>
        <referencedby refid="syx-init_8h_131c41be993642afd482b099c468212d7" compoundref="syx-init_8c" startline="183" endline="267">syx_build_basic</referencedby>
        <referencedby refid="syx-memory_8h_14d442554bbb25bf71781ba6abfa30819" compoundref="syx-memory_8c" startline="840" endline="950">syx_memory_load_image</referencedby>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_1f7b7206eb53c182199d80bb08e014990" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_initialize_system</definition>
        <argsstring>(void)</argsstring>
        <name>syx_initialize_system</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Remove Smalltalk startupProcess from being scheduled and send startupSystem: to Smalltalk in a scheduled process </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="319" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="318" bodyend="339"/>
        <referencedby refid="syx-memory_8h_14d442554bbb25bf71781ba6abfa30819" compoundref="syx-memory_8c" startline="840" endline="950">syx_memory_load_image</referencedby>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_1890a4fe6fc8c8b546c995f03fb19d67d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_init</definition>
        <argsstring>(syx_varsize argc, syx_string *argv, syx_symbol root_path)</argsstring>
        <name>syx_init</name>
        <param>
          <type><ref refid="syx-types_8h_118e1a1417591a1efb670b97ce320f535" kindref="member">syx_varsize</ref></type>
          <declname>argc</declname>
        </param>
        <param>
          <type><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref> *</type>
          <declname>argv</declname>
        </param>
        <param>
          <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
          <declname>root_path</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Setup the basic external environment of Syx, such as the root and the image path.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>root_path</parametername>
</parameternamelist>
<parameterdescription>
<para>an arbitrary root directory for Syx or NULL </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="348" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="347" bodyend="396"/>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_122715c2da20aedb6ef06b32053dc8a80" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void syx_quit</definition>
        <argsstring>(void)</argsstring>
        <name>syx_quit</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Finalize Syx.</para><para>Run special tasks to finalize the Syx process, such as clearing all the allocated memory </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="405" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="404" bodyend="416"/>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_1481a3f64c46f5b828aea978939c74e4c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
        <definition>syx_symbol syx_get_root_path</definition>
        <argsstring>(void)</argsstring>
        <name>syx_get_root_path</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Returns the root directory of Syx.</para><para><simplesect kind="return"><para>a constant string containing the path of the root directory </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="425" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="424" bodyend="427"/>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_1ff01e7545e5741ba55b0584816243b05" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_set_root_path</definition>
        <argsstring>(syx_symbol root_path)</argsstring>
        <name>syx_set_root_path</name>
        <param>
          <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
          <declname>root_path</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Sets the root directory of Syx.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>root_path</parametername>
</parameternamelist>
<parameterdescription>
<para>the new path </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>TRUE if the path exists and is readable </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="437" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="436" bodyend="459"/>
        <referencedby refid="syx-init_8h_18d6c7488dbeffcee4690492bdd2f3a91" compoundref="syx-init_8c" startline="347" endline="396">syx_init</referencedby>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_140ee7fef8570d7cf610390faa9b1b0b1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></type>
        <definition>syx_bool syx_set_image_path</definition>
        <argsstring>(syx_symbol image_path)</argsstring>
        <name>syx_set_image_path</name>
        <param>
          <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
          <declname>image_path</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Sets the initial image path </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="464" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="463" bodyend="473"/>
      </memberdef>
      <memberdef kind="function" id="syx-init_8c_1f196de4e97fe418abd021a26120fdc3c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></type>
        <definition>syx_symbol syx_get_image_path</definition>
        <argsstring>(void)</argsstring>
        <name>syx_get_image_path</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Returns the initial image path.</para><para>This path won&apos;t be used once Syx is initialized. The image path will be obtained from the ImageFileName global </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/media/common/projects/syx/syx/syx-init.c" line="482" bodyfile="/media/common/projects/syx/syx/syx-init.c" bodystart="481" bodyend="484"/>
        <referencedby refid="syx-memory_8h_14d442554bbb25bf71781ba6abfa30819" compoundref="syx-memory_8c" startline="840" endline="950">syx_memory_load_image</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/></highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/><sp/><sp/>Copyright<sp/>(c)<sp/>2007-2008<sp/>Luca<sp/>Bruno</highlight></codeline>
<codeline lineno="3"><highlight class="comment"></highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/><sp/><sp/>This<sp/>file<sp/>is<sp/>part<sp/>of<sp/>Smalltalk<sp/>YX.</highlight></codeline>
<codeline lineno="5"><highlight class="comment"></highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/><sp/><sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/><sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/><sp/><sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/><sp/><sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/><sp/><sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/><sp/><sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/><sp/><sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/><sp/><sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/><sp/><sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/><sp/><sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,<sp/><sp/></highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/><sp/><sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/><sp/><sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/><sp/><sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/><sp/><sp/>FROM,<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/><sp/><sp/>DEALINGS<sp/>IN<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="23"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-memory_8h" kindref="compound">syx-memory.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-types_8h" kindref="compound">syx-types.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-error_8h" kindref="compound">syx-error.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-plugins_8h" kindref="compound">syx-plugins.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-init_8h" kindref="compound">syx-init.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-signal_8h" kindref="compound">syx-signal.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-utils_8h" kindref="compound">syx-utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-scheduler_8h" kindref="compound">syx-scheduler.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-object_8h" kindref="compound">syx-object.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-interp_8h" kindref="compound">syx-interp.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="syx-profile_8h" kindref="compound">syx-profile.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_UNISTD_H</highlight></codeline>
<codeline lineno="53"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;unistd.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="55"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;assert.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="syx-init_8h_1532ac7708947b6d7d89531593bc54492" refkind="member"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref><sp/><ref refid="syx-init_8c_1a635a8b40fe35e17b7d2441eb9c11623" kindref="member">syx_system_initialized</ref><sp/>=<sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>_syx_root_path;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>_syx_image_path;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_118e1a1417591a1efb670b97ce320f535" kindref="member">syx_varsize</ref><sp/>_syx_argc;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>*_syx_argv;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>_syx_file_in_basic<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>_syx_file_in_basic_decl<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>_syx_create_class<sp/>(<ref refid="syx-types_8h_118e1a1417591a1efb670b97ce320f535" kindref="member">syx_varsize</ref><sp/>instanceSize);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/></highlight></codeline>
<codeline lineno="77" refid="syx-init_8h_143bb2f31e76b9593fb55491d90da7671" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_10a366be8ef1ce96df07d6084ccfaa249" kindref="member">syx_find_file</ref><sp/>(<ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>domain,<sp/><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>package,<sp/><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>filename)</highlight></codeline>
<codeline lineno="78"><highlight class="normal">{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>full_path;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!domain<sp/>||<sp/>!package<sp/>||<sp/>!filename)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/>full_path<sp/>=<sp/>(<ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref>)<sp/><ref refid="syx-types_8h_10a7e373cdf0766342290aa127715542a" kindref="member">syx_calloc</ref><sp/>(strlen<sp/>(_syx_root_path)</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>strlen<sp/>(domain)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>strlen<sp/>(package)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>strlen<sp/>(filename)<sp/>+<sp/>4,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal"><sp/>(<ref refid="syx-types_8h_122636fad803dd674d2640c323df20a11" kindref="member">syx_char</ref>));</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/>sprintf<sp/>(full_path,<sp/></highlight><highlight class="stringliteral">&quot;%s%c%s%c%s%c%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_syx_root_path,<sp/><ref refid="syx-platform_8h_1402f4162e0a9614b60e6656f210340a2" kindref="member">SYX_PATH_SEPARATOR</ref>,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domain,<sp/><ref refid="syx-platform_8h_1402f4162e0a9614b60e6656f210340a2" kindref="member">SYX_PATH_SEPARATOR</ref>,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>package,<sp/><ref refid="syx-platform_8h_1402f4162e0a9614b60e6656f210340a2" kindref="member">SYX_PATH_SEPARATOR</ref>,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>full_path;</highlight></codeline>
<codeline lineno="96"><highlight class="normal">}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal">_syx_file_in_basic_decl<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="100"><highlight class="normal">{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>full_filename;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/>full_filename<sp/>=<sp/><ref refid="syx-init_8c_10a366be8ef1ce96df07d6084ccfaa249" kindref="member">syx_find_file</ref><sp/>(</highlight><highlight class="stringliteral">&quot;st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;kernel&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;initialDecl.st&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><ref refid="syx-utils_8c_11684cfdb905b7f4de7031d77bba8e6b3" kindref="member">syx_cold_file_in</ref><sp/>(full_filename);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(full_filename);</highlight></codeline>
<codeline lineno="106"><highlight class="normal">}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal">_syx_file_in_basic<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="110"><highlight class="normal">{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>*filename;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>full_filename;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>kernel_filenames[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Behavior.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Metaclass.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Symbol.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Magnitude.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Number.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Integer.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;SmallInteger.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;LargeInteger.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Fraction.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Float.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Object.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;UndefinedObject.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ObjectMemory.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Collection.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ArrayedCollection.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;SequenceableCollection.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;OrderedCollection.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Stack.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Character.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ByteArray.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;String.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ContextPart.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;BlockContext.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;BlockClosure.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;True.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;False.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Signal.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Exception.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;SystemSignal.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Process.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ProcessorScheduler.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Semaphore.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CompiledMethod.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Association.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Stream.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Random.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;PositionableStream.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;WriteStream.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;FileStream.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;TextCollector.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Interval.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Set.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Bag.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Dictionary.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;IdentityDictionary.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;SystemDictionary.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Date.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;DateTime.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Compiler.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;MVC.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CommandLine.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Console.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;WinWorkspace.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>NULL</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>foreign_filenames[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CPointer.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;CObject.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CStructFieldType.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;CStructFieldTypePointer.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;CStructFieldSpec.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CStructGenerator.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;CStruct.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;CUnionGenerator.st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;CUnion.st&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>NULL</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(filename<sp/>=<sp/>kernel_filenames;<sp/>*filename;<sp/>filename++)</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>full_filename<sp/>=<sp/><ref refid="syx-init_8c_10a366be8ef1ce96df07d6084ccfaa249" kindref="member">syx_find_file</ref><sp/>(</highlight><highlight class="stringliteral">&quot;st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;kernel&quot;</highlight><highlight class="normal">,<sp/>*filename);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-utils_8c_11684cfdb905b7f4de7031d77bba8e6b3" kindref="member">syx_cold_file_in</ref><sp/>(full_filename);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(full_filename);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(filename<sp/>=<sp/>foreign_filenames;<sp/>*filename;<sp/>filename++)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>full_filename<sp/>=<sp/><ref refid="syx-init_8c_10a366be8ef1ce96df07d6084ccfaa249" kindref="member">syx_find_file</ref><sp/>(</highlight><highlight class="stringliteral">&quot;st&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;foreign&quot;</highlight><highlight class="normal">,<sp/>*filename);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-utils_8c_11684cfdb905b7f4de7031d77bba8e6b3" kindref="member">syx_cold_file_in</ref><sp/>(full_filename);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(full_filename);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162"><highlight class="normal">}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref></highlight></codeline>
<codeline lineno="165"><highlight class="normal">_syx_create_class<sp/>(<ref refid="syx-types_8h_118e1a1417591a1efb670b97ce320f535" kindref="member">syx_varsize</ref><sp/>instanceSize)</highlight></codeline>
<codeline lineno="166"><highlight class="normal">{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>=<sp/><ref refid="syx-object_8c_1f94f2c1c65aaf0962fbcc022519e189a" kindref="member">syx_object_new_vars</ref><sp/>(<ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>,<sp/><ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9bc8f3ec535187ff1d35e4a5cbd019c399" kindref="member">SYX_VARS_CLASS_CLASS_ALL</ref>);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_11fdb5e90c4eb0bca307b103320486ccb" kindref="member">SYX_CLASS_INSTANCE_SIZE</ref>(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal">)<sp/>=<sp/><ref refid="syx-types_8h_1a374195520da5e9f09f3ba4cfacf66fc" kindref="member">syx_small_integer_new</ref><sp/>(instanceSize);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>object;</highlight></codeline>
<codeline lineno="170"><highlight class="normal">}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183" refid="syx-init_8h_131c41be993642afd482b099c468212d7" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_1efeb166ace07f37fd380e8e290b18368" kindref="member">syx_build_basic</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="184"><highlight class="normal">{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>Object,<sp/>Behavior,<sp/>Class;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>context;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>process;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*symbols[]<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;Transcript&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;stdin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;stdout&quot;</highlight><highlight class="normal">,<sp/>NULL};</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**sym;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><ref refid="syx-memory_8c_1a035cb5cf9b570cb6584d6cd4aafe512" kindref="member">syx_memory_clear</ref><sp/>();</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><ref refid="syx-memory_8c_1f05eed3c8106e186265edf51194b912c" kindref="member">syx_memory_init</ref><sp/>(<ref refid="syx-init_8h_127a70994157f8571e2c0dd4ee513ab3c" kindref="member">SYX_INIT_MEMORY_SIZE</ref>);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>allocate<sp/>constants<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref><sp/>=<sp/><ref refid="syx-memory_8c_1bcaea59428ce48c03c68b1058a089fb2" kindref="member">syx_memory_alloc</ref><sp/>();</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1420b624002efae10b26b6ae50e4a2676" kindref="member">syx_true</ref><sp/>=<sp/><ref refid="syx-memory_8c_1bcaea59428ce48c03c68b1058a089fb2" kindref="member">syx_memory_alloc</ref><sp/>();</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1f40bef822ab93070372bb305d0443bd5" kindref="member">syx_false</ref><sp/>=<sp/><ref refid="syx-memory_8c_1bcaea59428ce48c03c68b1058a089fb2" kindref="member">syx_memory_alloc</ref><sp/>();</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>create<sp/>raw<sp/>instances<sp/>of<sp/>basic<sp/>classes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/>Object<sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9be7f3e8b29c114cbde70567ad9d9fe113" kindref="member">SYX_VARS_OBJECT_ALL</ref>);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/>Behavior<sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9bcebb58bb3117a18433419dff137931ff" kindref="member">SYX_VARS_CLASS_ALL</ref>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/>Class<sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9bc8f3ec535187ff1d35e4a5cbd019c399" kindref="member">SYX_VARS_CLASS_CLASS_ALL</ref>);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_11848105ff104416a12408af2205143e9" kindref="member">syx_symbol_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9bae804736127adaee082edcf70c61cad1" kindref="member">SYX_VARS_SYMBOL_ALL</ref>);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_13ecb65cb20e0a5a895c3b5ff2f8b2c0b" kindref="member">syx_string_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9bd640004b8a4b4ce71073080a63632de6" kindref="member">SYX_VARS_STRING_ALL</ref>);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_18b85a92f613df230370e74484940158c" kindref="member">syx_small_integer_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9be7f3e8b29c114cbde70567ad9d9fe113" kindref="member">SYX_VARS_OBJECT_ALL</ref>);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1be9354d970faef793af7e85246dd2ef8" kindref="member">syx_character_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9be7f3e8b29c114cbde70567ad9d9fe113" kindref="member">SYX_VARS_OBJECT_ALL</ref>);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1b692d37a746506811e13db448cc5f10a" kindref="member">syx_byte_array_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9be7f3e8b29c114cbde70567ad9d9fe113" kindref="member">SYX_VARS_OBJECT_ALL</ref>);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1ea3c80e36d52b2e7d2988a3e862673cb" kindref="member">syx_array_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9be7f3e8b29c114cbde70567ad9d9fe113" kindref="member">SYX_VARS_OBJECT_ALL</ref>);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_16e0e5c8e64c8634d625651aa9f73e690" kindref="member">syx_variable_binding_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9b2ca7b907756820ba3355750ee4fdfd97" kindref="member">SYX_VARS_VARIABLE_BINDING_ALL</ref>);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1dd15828b4f6578c666ac5fcea0f1e48c" kindref="member">syx_dictionary_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9b0f7ff8618479943745deea28a556a5c6" kindref="member">SYX_VARS_DICTIONARY_ALL</ref>);</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_10cf8d3871a460f97d82abf627a613fb0" kindref="member">syx_metaclass_class</ref><sp/>=<sp/>_syx_create_class<sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9b0094025d4574162e8568edce254f67be" kindref="member">SYX_VARS_METACLASS_ALL</ref>);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref><sp/>=<sp/><ref refid="syx-object_8h_1cdaeef35d6b8e61ddf3034ecb35c827b" kindref="member">syx_dictionary_new</ref><sp/>(200);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>hold<sp/>SystemDictionary<sp/>instance<sp/>variables<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(<ref refid="syx-object_8h_14b6aa57daec9c56e87fe8948101d99bc" kindref="member">SYX_OBJECT_VARS</ref>(<ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>));</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_14b6aa57daec9c56e87fe8948101d99bc" kindref="member">SYX_OBJECT_VARS</ref>(<ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>)<sp/>=<sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>*)<sp/><ref refid="syx-types_8h_10a7e373cdf0766342290aa127715542a" kindref="member">syx_calloc</ref><sp/>(<ref refid="syx-enums_8h_1c792ce905d7a570f1bf725aafa4d1d9b0f7ff8618479943745deea28a556a5c6" kindref="member">SYX_VARS_DICTIONARY_ALL</ref><sp/>+<sp/>4,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal"><sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref>));</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_14b5e97a130b1cf431ef9ea589afc5cfc" kindref="member">syx_symbols</ref><sp/>=<sp/><ref refid="syx-object_8h_1cdaeef35d6b8e61ddf3034ecb35c827b" kindref="member">syx_dictionary_new</ref><sp/>(1000);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><ref refid="syx-init_8h_1f23cd621d758fbfffe13f58928e4b068" kindref="member">syx_globals_at_put</ref><sp/>(<ref refid="syx-object_8c_16ef910113cd4a2eea7885781a54a2bc7" kindref="member">syx_symbol_new</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Smalltalk&quot;</highlight><highlight class="normal">),<sp/><ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_SETUP_CLASS(name,<sp/>klass,<sp/>superclass)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="222"><highlight class="preprocessor"><sp/><sp/>syx_object_set_class<sp/>(klass,<sp/>syx_metaclass_new<sp/>(syx_object_get_class<sp/>(superclass)));<sp/>\</highlight></codeline>
<codeline lineno="223"><highlight class="preprocessor"><sp/><sp/>SYX_METACLASS_INSTANCE_CLASS(syx_object_get_class<sp/>(klass))<sp/>=<sp/>klass;<sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="224"><highlight class="preprocessor"><sp/><sp/>SYX_CLASS_SUPERCLASS(klass)<sp/>=<sp/>superclass;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="225"><highlight class="preprocessor"><sp/><sp/>SYX_CLASS_NAME(klass)<sp/>=<sp/>syx_symbol_new<sp/>(name);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="226"><highlight class="preprocessor"><sp/><sp/>SYX_CLASS_SUBCLASSES(klass)<sp/>=<sp/>syx_array_new<sp/>(0,<sp/>NULL);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="227"><highlight class="preprocessor"><sp/><sp/>syx_globals_at_put<sp/>(SYX_CLASS_NAME(klass),<sp/>klass)</highlight></codeline>
<codeline lineno="228"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1a31a4efab7eb3f8fa35c78e9d9230102" kindref="member">SYX_CLASS_SUBCLASSES</ref>(Class)<sp/>=<sp/><ref refid="syx-object_8h_173d606c8733a400233809b9dbdffdfb1" kindref="member">syx_array_new</ref><sp/>(0,<sp/>NULL);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_19c6faeef861a4eb3e3fb37ce9f8126f3" kindref="member">syx_object_set_class</ref><sp/>(Object,<sp/><ref refid="syx-object_8c_10624244f32f755ddc9c08d20672874a4" kindref="member">syx_metaclass_new</ref><sp/>(Class));</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1b45ebeb40447a8043cdab82455f73475" kindref="member">SYX_METACLASS_INSTANCE_CLASS</ref>(<ref refid="syx-object_8h_188d1e4f8e61fb948d275e3900cec21fe" kindref="member">syx_object_get_class</ref><sp/>(Object))<sp/>=<sp/>Object;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_15307ee0e36a40bca0cc49aec373c4232" kindref="member">SYX_CLASS_SUPERCLASS</ref>(Object)<sp/>=<sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1d772af235c9512a18d5cbb8e9d0bb022" kindref="member">SYX_CLASS_NAME</ref>(Object)<sp/>=<sp/><ref refid="syx-object_8c_16ef910113cd4a2eea7885781a54a2bc7" kindref="member">syx_symbol_new</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Object&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1a31a4efab7eb3f8fa35c78e9d9230102" kindref="member">SYX_CLASS_SUBCLASSES</ref>(Object)<sp/>=<sp/><ref refid="syx-object_8h_173d606c8733a400233809b9dbdffdfb1" kindref="member">syx_array_new</ref><sp/>(0,<sp/>NULL);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><ref refid="syx-init_8h_1f23cd621d758fbfffe13f58928e4b068" kindref="member">syx_globals_at_put</ref><sp/>(<ref refid="syx-object_8h_1d772af235c9512a18d5cbb8e9d0bb022" kindref="member">SYX_CLASS_NAME</ref>(Object),<sp/>Object);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Behavior&quot;</highlight><highlight class="normal">,<sp/>Behavior,<sp/>Object);</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Class&quot;</highlight><highlight class="normal">,<sp/>Class,<sp/>Behavior);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Metaclass&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_10cf8d3871a460f97d82abf627a613fb0" kindref="member">syx_metaclass_class</ref>,<sp/>Behavior);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Symbol&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_11848105ff104416a12408af2205143e9" kindref="member">syx_symbol_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;ByteArray&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_1b692d37a746506811e13db448cc5f10a" kindref="member">syx_byte_array_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;String&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_13ecb65cb20e0a5a895c3b5ff2f8b2c0b" kindref="member">syx_string_class</ref>,<sp/><ref refid="syx-object_8c_1b692d37a746506811e13db448cc5f10a" kindref="member">syx_byte_array_class</ref>);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;SmallInteger&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_18b85a92f613df230370e74484940158c" kindref="member">syx_small_integer_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Character&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_1be9354d970faef793af7e85246dd2ef8" kindref="member">syx_character_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Array&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_1ea3c80e36d52b2e7d2988a3e862673cb" kindref="member">syx_array_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;VariableBinding&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_16e0e5c8e64c8634d625651aa9f73e690" kindref="member">syx_variable_binding_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/>_SETUP_CLASS<sp/>(</highlight><highlight class="stringliteral">&quot;Dictionary&quot;</highlight><highlight class="normal">,<sp/><ref refid="syx-object_8c_1dd15828b4f6578c666ac5fcea0f1e48c" kindref="member">syx_dictionary_class</ref>,<sp/>Object);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/>_syx_file_in_basic_decl<sp/>();</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_19c6faeef861a4eb3e3fb37ce9f8126f3" kindref="member">syx_object_set_class</ref><sp/>(<ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>,<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;SystemDictionary&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1cfb2a79cbeaf42326b56948d009d6719" kindref="member">SYX_OBJECT</ref>(<ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>)-&gt;klass<sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;UndefinedObject&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1cfb2a79cbeaf42326b56948d009d6719" kindref="member">SYX_OBJECT</ref>(<ref refid="syx-object_8c_1420b624002efae10b26b6ae50e4a2676" kindref="member">syx_true</ref>)-&gt;klass<sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;True&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8h_1cfb2a79cbeaf42326b56948d009d6719" kindref="member">SYX_OBJECT</ref>(<ref refid="syx-object_8c_1f40bef822ab93070372bb305d0443bd5" kindref="member">syx_false</ref>)-&gt;klass<sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;False&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><ref refid="syx-init_8c_17b86f133ac732b3916ff9b295a719b9c" kindref="member">syx_fetch_basic</ref><sp/>();</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>these<sp/>will<sp/>be<sp/>filled<sp/>later,<sp/>now<sp/>we&apos;ll<sp/>create<sp/>a<sp/>binding<sp/>for<sp/>method<sp/>declarations<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(sym=symbols;<sp/>*sym;<sp/>sym++)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="syx-init_8h_1f23cd621d758fbfffe13f58928e4b068" kindref="member">syx_globals_at_put</ref><sp/>(<ref refid="syx-object_8c_16ef910113cd4a2eea7885781a54a2bc7" kindref="member">syx_symbol_new</ref><sp/>(*sym),<sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref>);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/>_syx_file_in_basic<sp/>();</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/>process<sp/>=<sp/><ref refid="syx-object_8c_1f6ad7102f21107a9f0de770ff84e1165" kindref="member">syx_process_new</ref><sp/>();</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/>context<sp/>=<sp/><ref refid="syx-utils_8c_1d3f4d38a5a1230e366dc21594ea28832" kindref="member">syx_send_unary_message</ref><sp/>(<ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>,<sp/></highlight><highlight class="stringliteral">&quot;initializeFirstSystem&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_1e483ac8c92a367fc44460969715106d9" kindref="member">syx_interp_enter_context</ref><sp/>(process,<sp/>context);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_134287a6590d55ee7225b0437a73609b0" kindref="member">syx_process_execute_blocking</ref><sp/>(process);</highlight></codeline>
<codeline lineno="267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="270"><highlight class="comment"><sp/><sp/>Fetch<sp/>all<sp/>the<sp/>things<sp/>needed<sp/>by<sp/>the<sp/>VM<sp/>to<sp/>run<sp/>accordly<sp/>to<sp/>the<sp/>image</highlight></codeline>
<codeline lineno="271"><highlight class="comment"></highlight></codeline>
<codeline lineno="272"><highlight class="comment"><sp/><sp/>Sets<sp/>up<sp/>syx_nil,<sp/>syx_true<sp/>and<sp/>syx_false<sp/>constants.</highlight></codeline>
<codeline lineno="273"><highlight class="comment"><sp/><sp/>Lookup<sp/>all<sp/>classes<sp/>from<sp/>the<sp/>Smalltalk<sp/>dictionary<sp/>and<sp/>insert<sp/>them<sp/>into<sp/>the<sp/>VM.</highlight></codeline>
<codeline lineno="274"><highlight class="comment"><sp/><sp/>Then<sp/>initialize<sp/>the<sp/>interpreter,<sp/>the<sp/>errors<sp/>system<sp/>and<sp/>the<sp/>scheduler.</highlight></codeline>
<codeline lineno="275"><highlight class="comment"><sp/><sp/>Finally<sp/>send<sp/>SystemDictionary&gt;&gt;#initializeSystem:<sp/>to<sp/>initialize<sp/>everything<sp/>else<sp/>from<sp/>within<sp/>Smalltalk</highlight></codeline>
<codeline lineno="276"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278" refid="syx-init_8h_1c06c3bb03991f52f068cee7e52ff868e" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_17b86f133ac732b3916ff9b295a719b9c" kindref="member">syx_fetch_basic</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="279"><highlight class="normal">{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1b1522ab23d05036a843da6f50860c45d" kindref="member">syx_nil</ref><sp/>=<sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref>)(<ref refid="syx-memory_8c_1e9e3c062a63b7ee6b13ca9e026af87b6" kindref="member">syx_memory</ref>);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1420b624002efae10b26b6ae50e4a2676" kindref="member">syx_true</ref><sp/>=<sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref>)(<ref refid="syx-memory_8c_1e9e3c062a63b7ee6b13ca9e026af87b6" kindref="member">syx_memory</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1f40bef822ab93070372bb305d0443bd5" kindref="member">syx_false</ref><sp/>=<sp/>(<ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref>)(<ref refid="syx-memory_8c_1e9e3c062a63b7ee6b13ca9e026af87b6" kindref="member">syx_memory</ref><sp/>+<sp/>2);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_10cf8d3871a460f97d82abf627a613fb0" kindref="member">syx_metaclass_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Metaclass&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1fdf28614ea5338b2445fd47c330f2b83" kindref="member">syx_undefined_object_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;UndefinedObject&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_11848105ff104416a12408af2205143e9" kindref="member">syx_symbol_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Symbol&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_13ecb65cb20e0a5a895c3b5ff2f8b2c0b" kindref="member">syx_string_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;String&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_18b85a92f613df230370e74484940158c" kindref="member">syx_small_integer_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;SmallInteger&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1bc3a56814685116879a64cc0176b9e65" kindref="member">syx_large_integer_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;LargeInteger&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1268191e05e6cedc5d62bd5b895293932" kindref="member">syx_float_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Float&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1be9354d970faef793af7e85246dd2ef8" kindref="member">syx_character_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Character&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1b692d37a746506811e13db448cc5f10a" kindref="member">syx_byte_array_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;ByteArray&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1ea3c80e36d52b2e7d2988a3e862673cb" kindref="member">syx_array_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Array&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_16e0e5c8e64c8634d625651aa9f73e690" kindref="member">syx_variable_binding_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;VariableBinding&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1dd15828b4f6578c666ac5fcea0f1e48c" kindref="member">syx_dictionary_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Dictionary&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_18cad5bfec024ce53ab7561d648810e64" kindref="member">syx_cpointer_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;CPointer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_13fbdf382946e90aa0f7344bf731bf4a8" kindref="member">syx_compiled_method_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;CompiledMethod&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1f43d738ba7c8d9abc962067fb526cedd" kindref="member">syx_compiled_block_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;CompiledBlock&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1fd7f46b7f1e4ade8fa8b0583e53191e4" kindref="member">syx_block_closure_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;BlockClosure&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1e2242d95390ddfa0dadc10d7b41b65f9" kindref="member">syx_method_context_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;MethodContext&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_110eccfc9fce175592c0b2a43953da5e3" kindref="member">syx_block_context_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;BlockContext&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_10d597252f524ea69dd0bf8f33b3cec01" kindref="member">syx_process_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Process&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><ref refid="syx-object_8c_1cc2d7608228c4fd75d822841f0f32125" kindref="member">syx_processor_scheduler_class</ref><sp/>=<sp/><ref refid="syx-init_8h_12e08350ba0b87b6e6e85b21b23fde2c8" kindref="member">syx_globals_at</ref><sp/>(</highlight><highlight class="stringliteral">&quot;ProcessorScheduler&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><ref refid="syx-init_8h_1f23cd621d758fbfffe13f58928e4b068" kindref="member">syx_globals_at_put</ref><sp/>(<ref refid="syx-object_8c_16ef910113cd4a2eea7885781a54a2bc7" kindref="member">syx_symbol_new</ref><sp/>(</highlight><highlight class="stringliteral">&quot;ImageFileName&quot;</highlight><highlight class="normal">),<sp/><ref refid="syx-object_8h_1ef1b7868c0a729cc4f27596291a9e08d" kindref="member">syx_string_new</ref><sp/>(_syx_image_path));</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_174bb3b8c0b72fcd2b2d2c7c7bba5f5e2" kindref="member">syx_interp_init</ref><sp/>();</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><ref refid="syx-error_8c_110bc732864cef02c21c3956aa28cb7a5" kindref="member">syx_error_init</ref><sp/>();</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><ref refid="syx-scheduler_8c_1826bd9cb537fa7b575471e55d4a22096" kindref="member">syx_scheduler_init</ref><sp/>();</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><ref refid="syx-plugins_8c_150f74dbc73f9dd07eed9abdc542f599f" kindref="member">syx_plugins_init</ref><sp/>();</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><ref refid="syx-signal_8c_1e7f3ade974cc7da728cc757db2e1f64d" kindref="member">syx_signal_init</ref><sp/>();</highlight></codeline>
<codeline lineno="313"><highlight class="normal">}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318" refid="syx-init_8h_105223a080e6d39766c81442245d6bf37" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_1f7b7206eb53c182199d80bb08e014990" kindref="member">syx_initialize_system</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="319"><highlight class="normal">{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>context;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>process;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11121caba2d40b2ce090b640762744ccd" kindref="member">SyxOop</ref><sp/>arguments<sp/>=<sp/><ref refid="syx-object_8h_1bae072a6a2e20392d22f98e09fdc42c0" kindref="member">syx_array_new_size</ref><sp/>(_syx_argc);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_118e1a1417591a1efb670b97ce320f535" kindref="member">syx_varsize</ref><sp/>i;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i<sp/>&lt;<sp/>_syx_argc;<sp/>i++)</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="syx-object_8h_1fc625eb398e3bd73c520d54112da754f" kindref="member">SYX_OBJECT_DATA</ref>(arguments)[i]<sp/>=<sp/><ref refid="syx-object_8h_1ef1b7868c0a729cc4f27596291a9e08d" kindref="member">syx_string_new</ref><sp/>(_syx_argv[i]);</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/>process<sp/>=<sp/><ref refid="syx-object_8h_14b6aa57daec9c56e87fe8948101d99bc" kindref="member">SYX_OBJECT_VARS</ref>(<ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>)[3];</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="syx-object_8h_1a0618a2af4e0706b7080c6946ae43ee3" kindref="member">SYX_IS_NIL</ref><sp/>(process))</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="syx-scheduler_8c_15eed9263555dd5245c7ab05cdf59d995" kindref="member">syx_scheduler_remove_process</ref><sp/>(process);</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>initialize<sp/>the<sp/>system<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/>process<sp/>=<sp/><ref refid="syx-object_8c_1f6ad7102f21107a9f0de770ff84e1165" kindref="member">syx_process_new</ref><sp/>();</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/>context<sp/>=<sp/><ref refid="syx-utils_8c_148a0ba618561692f6c1858fcbc5d63f6" kindref="member">syx_send_binary_message</ref><sp/>(<ref refid="syx-object_8c_11e96747d8e7efd0baede821f1d34b9db" kindref="member">syx_globals</ref>,<sp/></highlight><highlight class="stringliteral">&quot;initializeSystem:&quot;</highlight><highlight class="normal">,<sp/>arguments);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_1e483ac8c92a367fc44460969715106d9" kindref="member">syx_interp_enter_context</ref><sp/>(process,<sp/>context);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_134287a6590d55ee7225b0437a73609b0" kindref="member">syx_process_execute_blocking</ref><sp/>(process);</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><ref refid="syx-init_8c_1a635a8b40fe35e17b7d2441eb9c11623" kindref="member">syx_system_initialized</ref><sp/>=<sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="339"><highlight class="normal">}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></highlight></codeline>
<codeline lineno="347" refid="syx-init_8h_18d6c7488dbeffcee4690492bdd2f3a91" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_1890a4fe6fc8c8b546c995f03fb19d67d" kindref="member">syx_init</ref><sp/>(<ref refid="syx-types_8h_118e1a1417591a1efb670b97ce320f535" kindref="member">syx_varsize</ref><sp/>argc,<sp/><ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref><sp/>*argv,<sp/><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>root_path)</highlight></codeline>
<codeline lineno="348"><highlight class="normal">{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref><sp/>initialized<sp/>=<sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(initialized<sp/>||<sp/>!<ref refid="syx-init_8c_1ff01e7545e5741ba55b0584816243b05" kindref="member">syx_set_root_path</ref><sp/>(root_path))</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/>_syx_argc<sp/>=<sp/>argc;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/>_syx_argv<sp/>=<sp/>argv;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WINCE</highlight></codeline>
<codeline lineno="357"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/>_syx_image_path<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;\\default.sim&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>end;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="360"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>first<sp/>look<sp/>in<sp/>the<sp/>root<sp/>directory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(root_path<sp/>&amp;&amp;<sp/>!strcmp<sp/>(root_path,<sp/>_syx_root_path))</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_syx_image_path<sp/>=<sp/>(<ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref>)<sp/><ref refid="syx-types_8h_17446426502808204156e54c87ac180bf" kindref="member">syx_malloc</ref><sp/>(strlen<sp/>(_syx_root_path)<sp/>+<sp/>13);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sprintf<sp/>((<ref refid="syx-types_8h_11bff1fd86072dd98849437bc9dcb35c3" kindref="member">syx_string</ref>)<sp/>_syx_image_path,<sp/></highlight><highlight class="stringliteral">&quot;%s%c%s&quot;</highlight><highlight class="normal">,<sp/>_syx_root_path,<sp/><ref refid="syx-platform_8h_1402f4162e0a9614b60e6656f210340a2" kindref="member">SYX_PATH_SEPARATOR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;default.sim&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>initialized<sp/>=<sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>first<sp/>look<sp/>in<sp/>the<sp/>working<sp/>directory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_ACCESS</highlight></codeline>
<codeline lineno="372"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(access<sp/>(</highlight><highlight class="stringliteral">&quot;default.sim&quot;</highlight><highlight class="normal">,<sp/>R_OK)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="374"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fopen<sp/>(</highlight><highlight class="stringliteral">&quot;default.sim&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="376"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_syx_image_path<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;default.sim&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>end;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>then<sp/>look<sp/>in<sp/>the<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_GETENV</highlight></codeline>
<codeline lineno="383"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/>_syx_image_path<sp/>=<sp/>getenv<sp/>(</highlight><highlight class="stringliteral">&quot;SYX_IMAGE_PATH&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_syx_image_path)</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>end;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="387"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>return<sp/>the<sp/>default<sp/>path<sp/>defined<sp/>by<sp/>the<sp/>installation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/>_syx_image_path<sp/>=<sp/><ref refid="syx-platform_8h_196e7668db9abdb2c425fd399ddb6981f" kindref="member">SYX_IMAGE_PATH</ref>;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/>end:</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/>_syx_image_path<sp/>=<sp/><ref refid="syx-types_8h_1c622723fb87eeb4c68598e317e0b1ed1" kindref="member">syx_strdup</ref><sp/>(_syx_image_path);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/>initialized<sp/>=<sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="396"><highlight class="normal">}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404" refid="syx-init_8h_1ce263c15141e6de68d951cfc57d672cb" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_122715c2da20aedb6ef06b32053dc8a80" kindref="member">syx_quit</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="405"><highlight class="normal">{</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><ref refid="syx-memory_8c_1a035cb5cf9b570cb6584d6cd4aafe512" kindref="member">syx_memory_clear</ref><sp/>();</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><ref refid="syx-interp_8c_141a4fa9a3836e8750667a4134b60835f" kindref="member">syx_interp_quit</ref><sp/>();</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><ref refid="syx-plugins_8c_1a1d8890400fc665042cabbd6467ad38b" kindref="member">syx_plugins_quit</ref><sp/>();</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><ref refid="syx-scheduler_8c_14a871e11c8c343aee6d766dab4b59383" kindref="member">syx_scheduler_quit</ref><sp/>();</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><ref refid="syx-error_8c_10b7d5b2e98bf782f1ae853345938c529" kindref="member">syx_error_clear</ref><sp/>();</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(_syx_image_path);</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(_syx_root_path);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><ref refid="syx-profile_8c_1557c65d8649d22114e7adc30fc32e652" kindref="member">syx_profile_print</ref><sp/>();</highlight></codeline>
<codeline lineno="416"><highlight class="normal">}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/></highlight></codeline>
<codeline lineno="424" refid="syx-init_8h_1c0d78d41f79e4707e3406d10734fc441" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_1481a3f64c46f5b828aea978939c74e4c" kindref="member">syx_get_root_path</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="425"><highlight class="normal">{</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_syx_root_path;</highlight></codeline>
<codeline lineno="427"><highlight class="normal">}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></highlight></codeline>
<codeline lineno="436" refid="syx-init_8h_126e334bd4520a346fe829903993f250e" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_1ff01e7545e5741ba55b0584816243b05" kindref="member">syx_set_root_path</ref><sp/>(<ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>root_path)</highlight></codeline>
<codeline lineno="437"><highlight class="normal">{</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!root_path)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_GETENV</highlight></codeline>
<codeline lineno="441"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(getenv<sp/>(</highlight><highlight class="stringliteral">&quot;SYX_ROOT_PATH&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_path<sp/>=<sp/>getenv<sp/>(</highlight><highlight class="stringliteral">&quot;SYX_ROOT_PATH&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="445"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_path<sp/>=<sp/><ref refid="syx-platform_8h_184328b74550048d04344e1663dcef3fd" kindref="member">SYX_ROOT_PATH</ref>;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_syx_root_path)</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(_syx_root_path);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/>_syx_root_path<sp/>=<sp/><ref refid="syx-types_8h_1c622723fb87eeb4c68598e317e0b1ed1" kindref="member">syx_strdup</ref><sp/>(root_path);</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_ACCESS</highlight></codeline>
<codeline lineno="454"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(access<sp/>(_syx_root_path,<sp/>R_OK)<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="457"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="459"><highlight class="normal">}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><ref refid="syx-types_8h_1c6dc09b276b99fa1956364359139daab" kindref="member">syx_bool</ref></highlight></codeline>
<codeline lineno="463" refid="syx-init_8h_1e2d4b8ca450daf0766f0ce2e1ce73c54" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_140ee7fef8570d7cf610390faa9b1b0b1" kindref="member">syx_set_image_path</ref><sp/>(<ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref><sp/>image_path)</highlight></codeline>
<codeline lineno="464"><highlight class="normal">{</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!image_path)</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_syx_image_path)</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="syx-types_8h_11659cf99572438c55385f05f6a090d03" kindref="member">syx_free</ref><sp/>(_syx_image_path);</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/>_syx_image_path<sp/>=<sp/><ref refid="syx-types_8h_1c622723fb87eeb4c68598e317e0b1ed1" kindref="member">syx_strdup</ref><sp/>(image_path);</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="syx-types_8h_1a8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="473"><highlight class="normal">}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><ref refid="syx-types_8h_19663af54b7b72f5d8be5f754ef356525" kindref="member">syx_symbol</ref></highlight></codeline>
<codeline lineno="481" refid="syx-init_8h_1e7f1ad973d8e6155ee3761cac438111f" refkind="member"><highlight class="normal"><ref refid="syx-init_8c_1f196de4e97fe418abd021a26120fdc3c" kindref="member">syx_get_image_path</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="482"><highlight class="normal">{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_syx_image_path;</highlight></codeline>
<codeline lineno="484"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/media/common/projects/syx/syx/syx-init.c"/>
  </compounddef>
</doxygen>
